<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Resource Library</title>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #0a0a0a;
    --surface: #141414;
    --surface-hover: #1a1a1a;
    --border: #252525;
    --border-hover: #3a3a3a;
    --text: #e8e8e8;
    --text-muted: #888;
    --text-dim: #666;
    --accent: #6d9fff;
    --accent-hover: #8bb4ff;
    --accent-dim: rgba(109,159,255,0.1);
    --green: #4ade80;
    --green-dim: rgba(74,222,128,0.1);
    --orange: #fb923c;
    --orange-dim: rgba(251,146,60,0.1);
    --purple: #a78bfa;
    --purple-dim: rgba(167,139,250,0.1);
    --radius: 12px;
    --radius-sm: 8px;
    --transition: 0.2s ease;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.6;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* Header */
  .site-header {
    padding: 48px 0 16px;
    text-align: center;
    position: relative;
  }

  .site-header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    margin-bottom: 12px;
    background: linear-gradient(135deg, #fff 0%, #6d9fff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .site-header p {
    color: var(--text-muted);
    font-size: 1.1rem;
    max-width: 500px;
    margin: 0 auto;
  }

  /* Breadcrumb / Back navigation */
  .breadcrumb {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 20px 0;
    flex-wrap: wrap;
  }

  .breadcrumb-btn {
    background: none;
    border: 1px solid var(--border);
    color: var(--accent);
    padding: 6px 14px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }

  .breadcrumb-btn:hover {
    border-color: var(--accent);
    background: var(--accent-dim);
  }

  .breadcrumb-sep {
    color: var(--text-dim);
    font-size: 0.8rem;
  }

  .breadcrumb-current {
    color: var(--text-muted);
    font-size: 0.85rem;
  }

  /* Cards grid */
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 16px;
    padding-bottom: 60px;
  }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 24px;
    cursor: pointer;
    transition: all var(--transition);
    position: relative;
    overflow: hidden;
  }

  .card:hover {
    border-color: var(--border-hover);
    background: var(--surface-hover);
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  }

  .card-icon {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    margin-bottom: 16px;
  }

  .card h3 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 8px;
    letter-spacing: -0.01em;
  }

  .card p {
    color: var(--text-muted);
    font-size: 0.875rem;
    line-height: 1.5;
  }

  .card-meta {
    margin-top: 14px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .badge {
    font-size: 0.7rem;
    padding: 3px 10px;
    border-radius: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  .badge-lessons {
    background: var(--accent-dim);
    color: var(--accent);
  }

  .badge-downloads {
    background: var(--green-dim);
    color: var(--green);
  }

  /* Subfolder list */
  .subfolder-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 12px;
    padding-bottom: 60px;
  }

  .subfolder-item {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 18px 20px;
    cursor: pointer;
    transition: all var(--transition);
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .subfolder-item:hover {
    border-color: var(--border-hover);
    background: var(--surface-hover);
  }

  .subfolder-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: var(--accent-dim);
    color: var(--accent);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.95rem;
    flex-shrink: 0;
  }

  .subfolder-info { flex: 1; min-width: 0; }

  .subfolder-info h4 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .subfolder-info span {
    font-size: 0.8rem;
    color: var(--text-muted);
  }

  .subfolder-arrow {
    color: var(--text-dim);
    font-size: 0.85rem;
    flex-shrink: 0;
    transition: transform var(--transition);
  }

  .subfolder-item:hover .subfolder-arrow {
    transform: translateX(3px);
    color: var(--accent);
  }

  /* Lesson list inside subfolder */
  .lesson-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding-bottom: 60px;
  }

  .lesson-item {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 14px 20px;
    display: flex;
    align-items: center;
    gap: 14px;
    transition: all var(--transition);
  }

  .lesson-item.clickable {
    cursor: pointer;
  }

  .lesson-item.clickable:hover {
    border-color: var(--border-hover);
    background: var(--surface-hover);
  }

  .lesson-icon {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    flex-shrink: 0;
  }

  .lesson-icon.txt { background: var(--accent-dim); color: var(--accent); }
  .lesson-icon.md { background: var(--purple-dim); color: var(--purple); }
  .lesson-icon.docx { background: var(--accent-dim); color: var(--accent); }
  .lesson-icon.pdf { background: var(--orange-dim); color: var(--orange); }
  .lesson-icon.zip { background: var(--green-dim); color: var(--green); }
  .lesson-icon.pages { background: var(--purple-dim); color: var(--purple); }

  .lesson-info { flex: 1; min-width: 0; }

  .lesson-info h4 {
    font-size: 0.9rem;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .lesson-info span {
    font-size: 0.75rem;
    color: var(--text-muted);
  }

  .download-btn {
    background: var(--green-dim);
    color: var(--green);
    border: 1px solid rgba(74,222,128,0.2);
    padding: 6px 14px;
    border-radius: 6px;
    font-size: 0.78rem;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition);
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 5px;
    flex-shrink: 0;
  }

  .download-btn:hover {
    background: rgba(74,222,128,0.2);
    border-color: rgba(74,222,128,0.4);
  }

  /* Content view */
  .content-view {
    padding-bottom: 80px;
  }

  .content-header {
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border);
  }

  .content-header h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .content-header .file-type {
    font-size: 0.8rem;
    color: var(--text-muted);
  }

  .content-body {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 32px;
    font-size: 0.92rem;
    line-height: 1.8;
    overflow-x: auto;
  }

  .content-body h1,
  .content-body h2,
  .content-body h3 {
    color: #fff;
    margin-top: 28px;
    margin-bottom: 12px;
    font-weight: 600;
  }

  .content-body h1 { font-size: 1.5rem; }
  .content-body h2 { font-size: 1.25rem; }
  .content-body h3 { font-size: 1.1rem; }

  .content-body p {
    margin-bottom: 14px;
    color: var(--text);
  }

  .content-body ul, .content-body ol {
    margin: 10px 0 14px 24px;
  }

  .content-body li {
    margin-bottom: 6px;
    color: var(--text);
  }

  .content-body a {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1px solid rgba(109,159,255,0.3);
    transition: border-color var(--transition);
  }

  .content-body a:hover {
    border-bottom-color: var(--accent);
  }

  .content-body .youtube-embed {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255,0,0,0.08);
    border: 1px solid rgba(255,0,0,0.15);
    border-radius: 6px;
    padding: 4px 12px;
    margin: 2px 0;
    color: #f87171;
    text-decoration: none;
    font-size: 0.85rem;
    transition: all var(--transition);
  }

  .content-body .youtube-embed:hover {
    background: rgba(255,0,0,0.14);
    border-color: rgba(255,0,0,0.3);
  }

  .content-body pre, .content-body code {
    background: #1a1a2e;
    border-radius: 6px;
  }

  .content-body pre {
    padding: 16px;
    overflow-x: auto;
    margin: 14px 0;
    border: 1px solid #252540;
  }

  .content-body code {
    padding: 2px 6px;
    font-size: 0.85em;
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Consolas', monospace;
  }

  .content-body pre code {
    padding: 0;
    background: none;
  }

  .content-body blockquote {
    border-left: 3px solid var(--accent);
    padding: 8px 16px;
    margin: 14px 0;
    background: var(--accent-dim);
    border-radius: 0 6px 6px 0;
    color: var(--text-muted);
  }

  .content-body hr {
    border: none;
    border-top: 1px solid var(--border);
    margin: 24px 0;
  }

  /* Loading */
  .loading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 60px;
    color: var(--text-muted);
    gap: 10px;
  }

  .loading-spinner {
    width: 20px;
    height: 20px;
    border: 2px solid var(--border);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  /* Error state */
  .error-msg {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-muted);
  }

  .error-msg h3 { color: var(--orange); margin-bottom: 8px; }

  /* View transitions */
  #app {
    animation: fadeIn 0.2s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .view-enter {
    animation: fadeIn 0.25s ease;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .site-header h1 { font-size: 1.8rem; }
    .site-header p { font-size: 0.95rem; }
    .cards-grid { grid-template-columns: 1fr; }
    .subfolder-list { grid-template-columns: 1fr; }
    .content-body { padding: 20px; }
    .container { padding: 0 16px; }
  }

  /* Scrollbar */
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #444; }
</style>
</head>
<body>

<div class="container">
  <header class="site-header">
    <h1>AI Resource Library</h1>
    <p>A curated collection of AI development courses, tools, and resources</p>
  </header>
  <div id="app"></div>
</div>

<script>
// ============================================================
// DATA: Complete course structure
// ============================================================
const COURSES = [
  {
    id: 'claude-code-fundamentals',
    title: 'Claude Code Fundamentals',
    description: 'Master the basics of Claude Code - from installation to advanced configuration and extensions.',
    icon: '\u2318',
    iconBg: 'var(--accent-dim)',
    iconColor: 'var(--accent)',
    path: 'courses/claude-code-fundamentals',
    subfolders: [
      {
        id: 'quickStart',
        title: 'Quick Start',
        path: 'courses/claude-code-fundamentals/quickStart',
        files: [
          { name: 'Installing Claude Code.docx', type: 'docx' },
          { name: 'Terminal Essentials.docx', type: 'docx' },
          { name: 'Understanding Permissions.docx', type: 'docx' }
        ]
      },
      {
        id: 'coreSkills',
        title: 'Core Skills',
        path: 'courses/claude-code-fundamentals/coreSkills',
        files: [
          { name: 'Choosing the Right Model.docx', type: 'docx' },
          { name: 'How Claude Works.docx', type: 'docx' },
          { name: 'Session Management.docx', type: 'docx' }
        ]
      },
      {
        id: 'configuration',
        title: 'Configuration',
        path: 'courses/claude-code-fundamentals/configuration',
        files: [
          { name: 'Custom Slash Commands.docx', type: 'docx' },
          { name: 'Permissions and Trust.docx', type: 'docx' },
          { name: 'Your First CLAUDE.md.docx', type: 'docx' }
        ]
      },
      {
        id: 'extendingClaude',
        title: 'Extending Claude',
        path: 'courses/claude-code-fundamentals/extendingClaude',
        files: [
          { name: 'MCP Servers.docx', type: 'docx' },
          { name: 'Plugins.docx', type: 'docx' },
          { name: 'Skills.docx', type: 'docx' },
          { name: 'Subagents.docx', type: 'docx' },
          { name: '6.4-Hooks-Lesson.pages', type: 'pages' }
        ]
      },
      {
        id: 'planningAndTracking',
        title: 'Planning and Tracking',
        path: 'courses/claude-code-fundamentals/planningAndTracking',
        files: [
          { name: 'Plan Mode and Interactive Requirements.docx', type: 'docx' },
          { name: 'Task Tracking with TodoWrite.docx', type: 'docx' }
        ]
      },
      {
        id: 'qualityAndSafety',
        title: 'Quality and Safety',
        path: 'courses/claude-code-fundamentals/qualityAndSafety',
        files: [
          { name: 'Git Workflow and Security Review.docx', type: 'docx' },
          { name: 'Validation Loops.docx', type: 'docx' }
        ]
      },
      {
        id: 'root-files',
        title: 'Additional Resources',
        path: 'courses/claude-code-fundamentals',
        files: [
          { name: 'Context-Engineering-Fundamentals.pdf', type: 'pdf' }
        ]
      }
    ]
  },
  {
    id: 'lifeos',
    title: 'LifeOS',
    description: 'Build an AI-powered personal operating system with tasks, memory, skills, and automated workflows.',
    icon: '\u2699',
    iconBg: 'var(--green-dim)',
    iconColor: 'var(--green)',
    path: 'courses/lifeos',
    subfolders: [
      {
        id: 'please-read',
        title: 'Please Read',
        path: 'courses/lifeos/please-read',
        files: [
          { name: 'security-and-risk-considerations.txt', type: 'txt' }
        ]
      },
      {
        id: 'understanding-the-system',
        title: 'Understanding the System',
        path: 'courses/lifeos/understanding-the-system',
        files: [
          { name: 'what-youre-building-and-how-it-works.txt', type: 'txt' }
        ]
      },
      {
        id: 'core-concepts',
        title: 'Core Concepts',
        path: 'courses/lifeos/core-concepts',
        files: [
          { name: 'tasks-memory-skills-projects.txt', type: 'txt' }
        ]
      },
      {
        id: 'daily-workflows',
        title: 'Daily Workflows',
        path: 'courses/lifeos/daily-workflows',
        files: [
          { name: 'heartbeats-reviews-and-time-blocks.txt', type: 'txt' }
        ]
      },
      {
        id: 'customization',
        title: 'Customization',
        path: 'courses/lifeos/customization',
        files: [
          { name: 'personalizing-your-workspace.txt', type: 'txt' }
        ]
      },
      {
        id: 'getting-started',
        title: 'Getting Started',
        path: 'courses/lifeos/getting-started',
        files: [
          { name: 'clone-setup-and-personalize.txt', type: 'txt' }
        ]
      },
      {
        id: 'reference',
        title: 'Reference',
        path: 'courses/lifeos/reference',
        files: [
          { name: 'quick-reference.txt', type: 'txt' }
        ]
      }
    ]
  },
  {
    id: 'ai-influencers-and-videos-repository',
    title: 'AI Influencers & Videos Repository',
    description: 'Curated collection of AI video tutorials, influencer guides, and learning resources across multiple topics.',
    icon: '\u25B6',
    iconBg: 'rgba(255,0,0,0.1)',
    iconColor: '#f87171',
    path: 'courses/ai-influencers-and-videos-repository',
    subfolders: [
      {
        id: 'navigation-hub',
        title: 'Navigation Hub',
        path: 'courses/ai-influencers-and-videos-repository/navigation-hub',
        files: [
          { name: 'navigation-hub.txt', type: 'txt' }
        ]
      },
      {
        id: 'ai-influencer-list',
        title: 'AI Influencer List',
        path: 'courses/ai-influencers-and-videos-repository/ai-influencer-list',
        files: [
          { name: 'ai-influencer-list.txt', type: 'txt' }
        ]
      },
      {
        id: 'claude-code-vids',
        title: 'Claude Code',
        path: 'courses/ai-influencers-and-videos-repository/claude-code',
        subfolders: [
          { id: 'getting-started', title: 'Getting Started', path: 'courses/ai-influencers-and-videos-repository/claude-code/getting-started', files: [{ name: 'getting-started.txt', type: 'txt' }] },
          { id: 'sub-agents', title: 'Sub Agents', path: 'courses/ai-influencers-and-videos-repository/claude-code/sub-agents', files: [{ name: 'sub-agents.txt', type: 'txt' }] },
          { id: 'context-engineering', title: 'Context Engineering', path: 'courses/ai-influencers-and-videos-repository/claude-code/context-engineering', files: [{ name: 'context-engineering.txt', type: 'txt' }] },
          { id: 'skills-and-customization', title: 'Skills and Customization', path: 'courses/ai-influencers-and-videos-repository/claude-code/skills-and-customization', files: [{ name: 'skills-and-customization.txt', type: 'txt' }] },
          { id: 'web-and-ui-development', title: 'Web and UI Development', path: 'courses/ai-influencers-and-videos-repository/claude-code/web-and-ui-development', files: [{ name: 'web-and-ui-development.txt', type: 'txt' }] }
        ]
      },
      {
        id: 'ai-agents-vids',
        title: 'AI Agents',
        path: 'courses/ai-influencers-and-videos-repository/ai-agents',
        subfolders: [
          { id: 'agent-fundamentals', title: 'Agent Fundamentals', path: 'courses/ai-influencers-and-videos-repository/ai-agents/agent-fundamentals', files: [{ name: 'agent-fundamentals.txt', type: 'txt' }] },
          { id: 'n8n-agents', title: 'n8n Agents', path: 'courses/ai-influencers-and-videos-repository/ai-agents/n8n-agents', files: [{ name: 'n8n-agents.txt', type: 'txt' }] },
          { id: 'research-agents', title: 'Research Agents', path: 'courses/ai-influencers-and-videos-repository/ai-agents/research-agents', files: [{ name: 'research-agents.txt', type: 'txt' }] },
          { id: 'voice-and-chat-agents', title: 'Voice and Chat Agents', path: 'courses/ai-influencers-and-videos-repository/ai-agents/voice-and-chat-agents', files: [{ name: 'voice-and-chat-agents.txt', type: 'txt' }] },
          { id: 'production-agents', title: 'Production Agents', path: 'courses/ai-influencers-and-videos-repository/ai-agents/production-agents', files: [{ name: 'production-agents.txt', type: 'txt' }] }
        ]
      },
      {
        id: 'mcp-servers-vids',
        title: 'MCP Servers',
        path: 'courses/ai-influencers-and-videos-repository/mcp-servers',
        subfolders: [
          { id: 'mcp-fundamentals', title: 'MCP Fundamentals', path: 'courses/ai-influencers-and-videos-repository/mcp-servers/mcp-fundamentals', files: [{ name: 'mcp-fundamentals.txt', type: 'txt' }] },
          { id: 'essential-mcp-tools', title: 'Essential MCP Tools', path: 'courses/ai-influencers-and-videos-repository/mcp-servers/essential-mcp-tools', files: [{ name: 'essential-mcp-tools.txt', type: 'txt' }] }
        ]
      },
      {
        id: 'n8n-automation-vids',
        title: 'n8n Automation',
        path: 'courses/ai-influencers-and-videos-repository/n8n-automation',
        subfolders: [
          { id: 'n8n-basics', title: 'n8n Basics', path: 'courses/ai-influencers-and-videos-repository/n8n-automation/n8n-basics', files: [{ name: 'n8n-basics.txt', type: 'txt' }] },
          { id: 'social-media-automation-n8n', title: 'Social Media Automation', path: 'courses/ai-influencers-and-videos-repository/n8n-automation/social-media-automation', files: [{ name: 'social-media-automation.txt', type: 'txt' }] },
          { id: 'content-and-research', title: 'Content and Research', path: 'courses/ai-influencers-and-videos-repository/n8n-automation/content-and-research', files: [{ name: 'content-and-research.txt', type: 'txt' }] },
          { id: 'business-automation', title: 'Business Automation', path: 'courses/ai-influencers-and-videos-repository/n8n-automation/business-automation', files: [{ name: 'business-automation.txt', type: 'txt' }] }
        ]
      },
      {
        id: 'mobile-apps-vids',
        title: 'Mobile Apps',
        path: 'courses/ai-influencers-and-videos-repository/mobile-apps',
        subfolders: [
          { id: 'app-development', title: 'App Development', path: 'courses/ai-influencers-and-videos-repository/mobile-apps/app-development', files: [{ name: 'app-development.txt', type: 'txt' }] },
          { id: 'app-store-optimization', title: 'App Store Optimization', path: 'courses/ai-influencers-and-videos-repository/mobile-apps/app-store-optimization', files: [{ name: 'app-store-optimization.txt', type: 'txt' }] },
          { id: 'app-monetization-and-growth', title: 'App Monetization and Growth', path: 'courses/ai-influencers-and-videos-repository/mobile-apps/app-monetization-and-growth', files: [{ name: 'app-monetization-and-growth.txt', type: 'txt' }] }
        ]
      },
      {
        id: 'ai-content-creation-vids',
        title: 'AI Content Creation',
        path: 'courses/ai-influencers-and-videos-repository/ai-content-creation',
        subfolders: [
          { id: 'ai-marketing-and-advertising', title: 'AI Marketing and Advertising', path: 'courses/ai-influencers-and-videos-repository/ai-content-creation/ai-marketing-and-advertising', files: [{ name: 'ai-marketing-and-advertising.txt', type: 'txt' }] },
          { id: 'social-media-automation-content', title: 'Social Media Automation', path: 'courses/ai-influencers-and-videos-repository/ai-content-creation/social-media-automation', files: [{ name: 'social-media-automation.txt', type: 'txt' }] },
          { id: 'ai-video-and-audio-generation', title: 'AI Video and Audio Generation', path: 'courses/ai-influencers-and-videos-repository/ai-content-creation/ai-video-and-audio-generation', files: [{ name: 'ai-video-and-audio-generation.txt', type: 'txt' }] }
        ]
      },
      {
        id: 'fundamentals-vids',
        title: 'Fundamentals',
        path: 'courses/ai-influencers-and-videos-repository/fundamentals',
        subfolders: [
          { id: 'local-llms-and-fundamentals', title: 'Local LLMs and Fundamentals', path: 'courses/ai-influencers-and-videos-repository/fundamentals/local-llms-and-fundamentals', files: [{ name: 'local-llms-and-fundamentals.txt', type: 'txt' }] },
          { id: 'general-coding-and-context-engineering', title: 'General Coding and Context Engineering', path: 'courses/ai-influencers-and-videos-repository/fundamentals/general-coding-and-context-engineering', files: [{ name: 'general-coding-and-context-engineering.txt', type: 'txt' }] }
        ]
      }
    ]
  },
  {
    id: 'how-to-oneshot-saas-setup',
    title: 'How to Oneshot SaaS Setup',
    description: 'Use a meta-prompt system to generate complete SaaS projects in a single shot with Claude.',
    icon: '\u26A1',
    iconBg: 'var(--orange-dim)',
    iconColor: 'var(--orange)',
    path: 'courses/how-to-oneshot-saas-setup',
    subfolders: [
      {
        id: 'how-to-use-the-metaprompt',
        title: 'How to Use the Metaprompt',
        path: 'courses/how-to-oneshot-saas-setup/how-to-use-the-metaprompt',
        files: [
          { name: 'how-to-use-the-metaprompt.txt', type: 'txt' }
        ]
      },
      {
        id: 'the-meta-prompt',
        title: 'The Meta Prompt',
        path: 'courses/how-to-oneshot-saas-setup/the-meta-prompt',
        files: [
          { name: 'the-meta-prompt.txt', type: 'txt' },
          { name: 'ROADMAP_GENERATOR_METAPROMPT.md', type: 'md' }
        ]
      },
      {
        id: 'mcp-server-configuration',
        title: 'MCP Server Configuration',
        path: 'courses/how-to-oneshot-saas-setup/mcp-server-configuration',
        files: [
          { name: 'mcp-server-configuration.txt', type: 'txt' }
        ]
      }
    ]
  },
  {
    id: 'claude-code-mcp-connections',
    title: 'Claude Code MCP Connections',
    description: 'Configure MCP servers for Claude Code - Supabase, Context7, Playwright, and custom servers.',
    icon: '\u{1F50C}',
    iconBg: 'var(--purple-dim)',
    iconColor: 'var(--purple)',
    path: 'courses/claude-code-mcp-connections',
    subfolders: [
      {
        id: 'what-is-mcp',
        title: 'What is MCP / When Should I Use It',
        path: 'courses/claude-code-mcp-connections/what-is-mcp-when-should-i-use-it',
        files: [
          { name: 'what-is-mcp-when-should-i-use-it.txt', type: 'txt' }
        ]
      },
      {
        id: 'essentials-config',
        title: 'Essentials: Supabase, Context7, Playwright Config',
        path: 'courses/claude-code-mcp-connections/essentials-supabase-context7-playwright-config',
        files: [
          { name: 'essentials-config.txt', type: 'txt' }
        ]
      },
      {
        id: 'supabase-mcp-setup',
        title: 'Required Supabase MCP Setup',
        path: 'courses/claude-code-mcp-connections/required-supabase-mcp-setup',
        files: [
          { name: 'supabase-mcp-setup.txt', type: 'txt' }
        ]
      },
      {
        id: 'configure-any-mcp-server',
        title: 'Configure Any MCP Server',
        path: 'courses/claude-code-mcp-connections/configure-any-mcp-server',
        files: [
          { name: 'configure-any-mcp-server.txt', type: 'txt' }
        ]
      }
    ]
  },
  {
    id: 'claude-code-slash-commands',
    title: 'Claude Code Slash Commands',
    description: 'Ready-to-use slash commands for planning, development, testing, security, deployment, and documentation.',
    icon: '/',
    iconBg: 'var(--accent-dim)',
    iconColor: 'var(--accent)',
    path: 'courses/claude-code-slash-commands',
    subfolders: [
      {
        id: 'getting-started-slash',
        title: 'Getting Started with Custom Slash Commands',
        path: 'courses/claude-code-slash-commands/getting-started-with-custom-slash-commands',
        files: [
          { name: 'getting-started-with-custom-slash-commands.txt', type: 'txt' },
          { name: 'test-args.md', type: 'md' }
        ]
      },
      {
        id: 'planning-commands',
        title: 'Planning Commands',
        path: 'courses/claude-code-slash-commands/planning-commands',
        files: [
          { name: 'planning-commands.txt', type: 'txt' },
          { name: 'explain-code.md', type: 'md' },
          { name: 'create-issue.md', type: 'md' },
          { name: 'assess-debt.md', type: 'md' }
        ]
      },
      {
        id: 'development-commands',
        title: 'Development Commands',
        path: 'courses/claude-code-slash-commands/development-commands',
        files: [
          { name: 'development-commands.txt', type: 'txt' },
          { name: 'implement-code.md', type: 'md' },
          { name: 'migrate-code.md', type: 'md' },
          { name: 'refactor-code.md', type: 'md' },
          { name: 'scaffold-api.md', type: 'md' },
          { name: 'write-tests.md', type: 'md' }
        ]
      },
      {
        id: 'testing-and-quality-commands',
        title: 'Testing and Quality Commands',
        path: 'courses/claude-code-slash-commands/testing-and-quality-commands',
        files: [
          { name: 'testing-and-quality-commands.txt', type: 'txt' },
          { name: 'analyze-bug.md', type: 'md' },
          { name: 'debug-issue.md', type: 'md' },
          { name: 'generate-tests.md', type: 'md' },
          { name: 'trace-error.md', type: 'md' }
        ]
      },
      {
        id: 'security-and-compliance-commands',
        title: 'Security and Compliance Commands',
        path: 'courses/claude-code-slash-commands/security-and-compliance-commands',
        files: [
          { name: 'security-and-compliance-commands.txt', type: 'txt' },
          { name: 'audit-accessibility.md', type: 'md' },
          { name: 'audit-dependencies.md', type: 'md' },
          { name: 'scan-security.md', type: 'md' }
        ]
      },
      {
        id: 'deployment-commands',
        title: 'Deployment Commands',
        path: 'courses/claude-code-slash-commands/deployment-commands',
        files: [
          { name: 'deployment-commands.txt', type: 'txt' },
          { name: 'check-deployment.md', type: 'md' },
          { name: 'optimize-docker.md', type: 'md' },
          { name: 'setup-monitoring.md', type: 'md' }
        ]
      },
      {
        id: 'documentation-commands',
        title: 'Documentation Commands',
        path: 'courses/claude-code-slash-commands/documentation-commands',
        files: [
          { name: 'documentation-commands.txt', type: 'txt' },
          { name: 'enhance-pr.md', type: 'md' },
          { name: 'generate-docs.md', type: 'md' }
        ]
      }
    ]
  },
  {
    id: 'claude-code-subagents',
    title: 'Claude Code Subagents',
    description: 'A library of specialized subagents for research, documentation, testing, security, UI, backend, and CI/CD.',
    icon: '\u{1F916}',
    iconBg: 'var(--purple-dim)',
    iconColor: 'var(--purple)',
    path: 'courses/claude-code-subagents',
    subfolders: [
      {
        id: 'start-here-onboarding',
        title: 'Start Here - Subagent Library Onboarding',
        path: 'courses/claude-code-subagents/start-here-subagent-library-onboarding',
        files: [
          { name: 'start-here-subagent-library-onboarding.txt', type: 'txt' }
        ]
      },
      {
        id: 'agent-workflow-templates',
        title: 'Agent Workflow Templates',
        path: 'courses/claude-code-subagents/agent-workflow-templates',
        files: [
          { name: 'agent-workflow-templates.txt', type: 'txt' }
        ]
      },
      {
        id: 'claude-md-orchestration',
        title: 'CLAUDE.md for Orchestration',
        path: 'courses/claude-code-subagents/claude-md-for-orchestration',
        files: [
          { name: 'claude-md-for-orchestration.txt', type: 'txt' },
          { name: 'CLAUDE.md', type: 'md' }
        ]
      },
      {
        id: 'read-before-using',
        title: 'Read Before Using Subagents',
        path: 'courses/claude-code-subagents/read-before-using-subagents',
        files: [
          { name: 'read-before-using-subagents.txt', type: 'txt' }
        ]
      },
      {
        id: 'research-subagents',
        title: 'Research Subagents',
        path: 'courses/claude-code-subagents/subagent-files/research-subagents',
        files: [
          { name: 'research-subagents.txt', type: 'txt' },
          { name: 'codebase-explorer.md', type: 'md' },
          { name: 'external-context-researcher.md', type: 'md' },
          { name: 'project-architect.md', type: 'md' }
        ]
      },
      {
        id: 'documentation-subagents',
        title: 'Documentation Subagents',
        path: 'courses/claude-code-subagents/subagent-files/documentation-subagents',
        files: [
          { name: 'documentation-subagents.txt', type: 'txt' },
          { name: 'docs-weaver.md', type: 'md' },
          { name: 'project-historian.md', type: 'md' }
        ]
      },
      {
        id: 'testing-subagents',
        title: 'Testing Subagents',
        path: 'courses/claude-code-subagents/subagent-files/testing-subagents',
        files: [
          { name: 'testing-subagents.txt', type: 'txt' },
          { name: 'backend-test-guardian.md', type: 'md' },
          { name: 'pre-push-validator.md', type: 'md' }
        ]
      },
      {
        id: 'security-subagents',
        title: 'Security Subagents',
        path: 'courses/claude-code-subagents/subagent-files/security-subagents',
        files: [
          { name: 'security-subagents.txt', type: 'txt' },
          { name: 'secrets-env-auditor.md', type: 'md' },
          { name: 'security-scanner.md', type: 'md' }
        ]
      },
      {
        id: 'ui-subagents',
        title: 'UI Subagents',
        path: 'courses/claude-code-subagents/subagent-files/ui-subagents',
        files: [
          { name: 'ui-subagents.txt', type: 'txt' },
          { name: 'browser-navigator.md', type: 'md' },
          { name: 'ux-copy-brainstormer.md', type: 'md' }
        ]
      },
      {
        id: 'backend-subagents',
        title: 'Backend Subagents',
        path: 'courses/claude-code-subagents/subagent-files/backend-subagents',
        files: [
          { name: 'backend-subagents.txt', type: 'txt' },
          { name: 'cache-strategy-architect.md', type: 'md' },
          { name: 'migration-planner.md', type: 'md' },
          { name: 'performance-profiler.md', type: 'md' }
        ]
      },
      {
        id: 'cicd-subagents',
        title: 'CI/CD Subagents',
        path: 'courses/claude-code-subagents/subagent-files/cicd-subagents',
        files: [
          { name: 'cicd-subagents.txt', type: 'txt' },
          { name: 'cicd-optimizer.md', type: 'md' }
        ]
      }
    ]
  },
  {
    id: 'claude-code-skills',
    title: 'Claude Code Skills',
    description: 'Downloadable skill packs for design, development, documents, engineering, executive, marketing, and product roles.',
    icon: '\u{1F4E6}',
    iconBg: 'var(--green-dim)',
    iconColor: 'var(--green)',
    path: 'courses/claude-code-skills',
    subfolders: [
      {
        id: 'welcome-skills',
        title: 'Welcome to Claude Code Skills',
        path: 'courses/claude-code-skills',
        files: [
          { name: 'welcome-to-claude-code-skills.txt', type: 'txt' }
        ]
      },
      {
        id: 'design-skills',
        title: 'Design Skills',
        path: 'courses/claude-code-skills/design-skills-overview',
        files: [
          { name: 'design-skills-overview.txt', type: 'txt' },
          { name: 'branding.zip', type: 'zip' },
          { name: 'generative-art.zip', type: 'zip' },
          { name: 'gif-maker.zip', type: 'zip' },
          { name: 'react-builder.zip', type: 'zip' },
          { name: 'themes.zip', type: 'zip' },
          { name: 'visual-art.zip', type: 'zip' }
        ]
      },
      {
        id: 'development-skills',
        title: 'Development Skills',
        path: 'courses/claude-code-skills/development-skills-overview',
        files: [
          { name: 'development-skills-overview.txt', type: 'txt' },
          { name: 'communications.zip', type: 'zip' },
          { name: 'mcp-server.zip', type: 'zip' },
          { name: 'template.zip', type: 'zip' },
          { name: 'web-testing.zip', type: 'zip' }
        ]
      },
      {
        id: 'documents-skills',
        title: 'Documents Skills',
        path: 'courses/claude-code-skills/documents-skills-overview',
        files: [
          { name: 'documents-skills-overview.txt', type: 'txt' },
          { name: 'pdf-tools.zip', type: 'zip' },
          { name: 'presentations.zip', type: 'zip' },
          { name: 'spreadsheets.zip', type: 'zip' },
          { name: 'word.zip', type: 'zip' }
        ]
      },
      {
        id: 'engineering-skills',
        title: 'Engineering Skills',
        path: 'courses/claude-code-skills/engineering-skills-overview',
        files: [
          { name: 'engineering-skills-overview.txt', type: 'txt' },
          { name: 'architecture.zip', type: 'zip' },
          { name: 'backend.zip', type: 'zip' },
          { name: 'code-review.zip', type: 'zip' },
          { name: 'computer-vision.zip', type: 'zip' },
          { name: 'data-engineer.zip', type: 'zip' },
          { name: 'data-science.zip', type: 'zip' },
          { name: 'devops.zip', type: 'zip' },
          { name: 'frontend.zip', type: 'zip' },
          { name: 'fullstack.zip', type: 'zip' },
          { name: 'prompt-engineer.zip', type: 'zip' },
          { name: 'qa-testing.zip', type: 'zip' },
          { name: 'security-ops.zip', type: 'zip' },
          { name: 'security.zip', type: 'zip' }
        ]
      },
      {
        id: 'executive-skills',
        title: 'Executive Skills',
        path: 'courses/claude-code-skills/executive-skills-overview',
        files: [
          { name: 'executive-skills-overview.txt', type: 'txt' },
          { name: 'ceo.zip', type: 'zip' },
          { name: 'cto.zip', type: 'zip' }
        ]
      },
      {
        id: 'marketing-skills',
        title: 'Marketing Skills',
        path: 'courses/claude-code-skills/marketing-skills-overview',
        files: [
          { name: 'marketing-skills-overview.txt', type: 'txt' },
          { name: 'content.zip', type: 'zip' },
          { name: 'demand-gen.zip', type: 'zip' },
          { name: 'product-marketing.zip', type: 'zip' }
        ]
      },
      {
        id: 'product-skills',
        title: 'Product Skills',
        path: 'courses/claude-code-skills/product-skills-overview',
        files: [
          { name: 'product-skills-overview.txt', type: 'txt' },
          { name: 'agile-owner.zip', type: 'zip' },
          { name: 'design-system.zip', type: 'zip' },
          { name: 'pm-toolkit.zip', type: 'zip' },
          { name: 'strategy.zip', type: 'zip' },
          { name: 'ux-research.zip', type: 'zip' }
        ]
      }
    ]
  },
  {
    id: 'prd-prompt-generator',
    title: 'PRD Prompt Generator',
    description: 'Generate comprehensive Product Requirements Documents for AI coding agents.',
    icon: '\u{1F4CB}',
    iconBg: 'var(--orange-dim)',
    iconColor: 'var(--orange)',
    path: 'courses/prd-prompt-generator',
    subfolders: [
      {
        id: 'prd-root',
        title: 'PRD Generator Files',
        path: 'courses/prd-prompt-generator',
        files: [
          { name: 'how-to-use-prd-generator.txt', type: 'txt' },
          { name: 'generate-agent-prd.md', type: 'md' }
        ]
      }
    ]
  },
  {
    id: 'short-form-youtube-video-scraper',
    title: 'Short Form / YouTube Video Scraper',
    description: 'Build a tool to scrape and analyze short form and YouTube video content.',
    icon: '\u{1F3AC}',
    iconBg: 'rgba(255,0,0,0.1)',
    iconColor: '#f87171',
    path: 'courses/short-form-youtube-video-scraper',
    subfolders: [
      {
        id: 'scraper-start',
        title: 'Start',
        path: 'courses/short-form-youtube-video-scraper/start',
        files: [
          { name: 'start.txt', type: 'txt' }
        ]
      },
      {
        id: 'scraper-summary',
        title: 'Summary',
        path: 'courses/short-form-youtube-video-scraper/summary',
        files: [
          { name: 'summary.txt', type: 'txt' }
        ]
      },
      {
        id: 'scraper-features',
        title: 'Features',
        path: 'courses/short-form-youtube-video-scraper/features',
        files: [
          { name: 'features.txt', type: 'txt' }
        ]
      },
      {
        id: 'scraper-github',
        title: 'GitHub Repo and Setup',
        path: 'courses/short-form-youtube-video-scraper/github-repo-and-setup',
        files: [
          { name: 'github-repo-and-setup.txt', type: 'txt' }
        ]
      }
    ]
  },
  {
    id: 'twitter-scraper',
    title: 'Twitter Scraper',
    description: 'Set up automated Twitter scraping with API keys, Google Cloud, PM2 scheduling, and more.',
    icon: '\u{1D54F}',
    iconBg: 'var(--accent-dim)',
    iconColor: 'var(--accent)',
    path: 'courses/twitter-scraper',
    subfolders: [
      {
        id: 'twitter-getting-started',
        title: 'Welcome and What You\'ll Build',
        path: 'courses/twitter-scraper/getting-started',
        files: [
          { name: 'welcome-and-what-youll-build.txt', type: 'txt' }
        ]
      },
      {
        id: 'twitter-api-keys',
        title: 'Get Your API Keys',
        path: 'courses/twitter-scraper/get-api-keys',
        files: [
          { name: 'get-your-api-keys.txt', type: 'txt' }
        ]
      },
      {
        id: 'twitter-google-cloud',
        title: 'Set Up Google Cloud',
        path: 'courses/twitter-scraper/set-up-google-cloud',
        files: [
          { name: 'set-up-google-cloud.txt', type: 'txt' }
        ]
      },
      {
        id: 'twitter-configure-env',
        title: 'Configure Your Environment',
        path: 'courses/twitter-scraper/configure-your-environment',
        files: [
          { name: 'configure-your-environment.txt', type: 'txt' }
        ]
      },
      {
        id: 'twitter-first-run',
        title: 'First Run and Testing',
        path: 'courses/twitter-scraper/first-run-and-testing',
        files: [
          { name: 'first-run-and-testing.txt', type: 'txt' }
        ]
      },
      {
        id: 'twitter-automate',
        title: 'Automate with PM2 Scheduler',
        path: 'courses/twitter-scraper/automate-with-pm2-scheduler',
        files: [
          { name: 'automate-with-pm2-scheduler.txt', type: 'txt' }
        ]
      },
      {
        id: 'twitter-customize',
        title: 'Customize and Fix Common Issues',
        path: 'courses/twitter-scraper/customize-and-fix-common-issues',
        files: [
          { name: 'customize-and-fix-common-issues.txt', type: 'txt' }
        ]
      }
    ]
  }
];

// ============================================================
// UTILITY FUNCTIONS
// ============================================================
function slugToTitle(str) {
  return str
    .replace(/[-_]/g, ' ')
    .replace(/\b\w/g, c => c.toUpperCase())
    .replace(/\.txt$|\.md$|\.docx$|\.pdf$|\.pages$|\.zip$/i, '');
}

function getFileExtension(filename) {
  const parts = filename.split('.');
  return parts[parts.length - 1].toLowerCase();
}

function isReadable(type) {
  return type === 'txt' || type === 'md';
}

function isDownloadable(type) {
  return ['md', 'zip', 'docx', 'pdf', 'pages'].includes(type);
}

function getFileLabel(type) {
  const labels = {
    txt: 'TXT',
    md: 'MD',
    docx: 'DOCX',
    pdf: 'PDF',
    zip: 'ZIP',
    pages: 'PAGES'
  };
  return labels[type] || type.toUpperCase();
}

function countItems(subfolder) {
  let total = 0;
  if (subfolder.files) total += subfolder.files.length;
  if (subfolder.subfolders) {
    subfolder.subfolders.forEach(sf => { total += countItems(sf); });
  }
  return total;
}

function countDownloads(subfolder) {
  let total = 0;
  if (subfolder.files) {
    total += subfolder.files.filter(f => isDownloadable(f.type)).length;
  }
  if (subfolder.subfolders) {
    subfolder.subfolders.forEach(sf => { total += countDownloads(sf); });
  }
  return total;
}

function countCourseItems(course) {
  let total = 0;
  course.subfolders.forEach(sf => { total += countItems(sf); });
  return total;
}

function countCourseDownloads(course) {
  let total = 0;
  course.subfolders.forEach(sf => { total += countDownloads(sf); });
  return total;
}

// Convert plain text to formatted HTML
function formatTextContent(text) {
  // Escape HTML
  let html = text
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;');

  // Convert URLs to links (YouTube gets special treatment)
  html = html.replace(/(https?:\/\/(?:www\.)?youtube\.com\/watch\?v=[^\s]+)/g,
    '<a href="$1" target="_blank" rel="noopener" class="youtube-embed">\u25B6 Watch on YouTube</a>');
  html = html.replace(/(https?:\/\/(?:www\.)?youtu\.be\/[^\s]+)/g,
    '<a href="$1" target="_blank" rel="noopener" class="youtube-embed">\u25B6 Watch on YouTube</a>');
  // General URLs (not already linked)
  html = html.replace(/(?<!href=")(https?:\/\/[^\s<]+)(?!<\/a>)/g, function(url) {
    if (url.includes('youtube.com/watch') || url.includes('youtu.be/')) return url;
    return '<a href="' + url + '" target="_blank" rel="noopener">' + url + '</a>';
  });

  // Split into lines for processing
  const lines = html.split('\n');
  let result = [];
  let inList = false;
  let listType = 'ul';
  let inCodeBlock = false;

  for (let i = 0; i < lines.length; i++) {
    let line = lines[i];
    let trimmed = line.trim();

    // Code block (triple backtick)
    if (trimmed.startsWith('```')) {
      if (inCodeBlock) {
        result.push('</code></pre>');
        inCodeBlock = false;
      } else {
        if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
        result.push('<pre><code>');
        inCodeBlock = true;
      }
      continue;
    }

    if (inCodeBlock) {
      result.push(line);
      continue;
    }

    // Empty lines
    if (trimmed === '') {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('');
      continue;
    }

    // Headers (lines that are ALL CAPS and short, or start with # in md-like content)
    if (trimmed.startsWith('# ')) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('<h1>' + trimmed.substring(2) + '</h1>');
      continue;
    }
    if (trimmed.startsWith('## ')) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('<h2>' + trimmed.substring(3) + '</h2>');
      continue;
    }
    if (trimmed.startsWith('### ')) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('<h3>' + trimmed.substring(4) + '</h3>');
      continue;
    }

    // Detect header-like lines: short, no period at end, possibly followed by empty line
    // (all-caps or title-case lines under ~80 chars that don't end with punctuation)
    if (trimmed.length < 80 && trimmed.length > 1 &&
        !trimmed.endsWith('.') && !trimmed.endsWith(',') &&
        !trimmed.startsWith('-') && !trimmed.startsWith('*') &&
        !trimmed.match(/^\d+[\.\)]\s/) &&
        (trimmed === trimmed.toUpperCase() ||
         (i + 1 < lines.length && lines[i + 1].trim() === '' && i > 0 && lines[i - 1].trim() === ''))) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      if (trimmed === trimmed.toUpperCase() && trimmed.length > 3) {
        result.push('<h2>' + trimmed + '</h2>');
      } else if (i > 0 && lines[i - 1].trim() === '') {
        result.push('<h3>' + trimmed + '</h3>');
      } else {
        result.push('<p>' + trimmed + '</p>');
      }
      continue;
    }

    // Horizontal rule
    if (trimmed.match(/^[-=_]{3,}$/)) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('<hr>');
      continue;
    }

    // Bullet points
    if (trimmed.match(/^[-*\u2022]\s+/)) {
      if (!inList || listType !== 'ul') {
        if (inList) result.push('</ol>');
        result.push('<ul>');
        inList = true;
        listType = 'ul';
      }
      result.push('<li>' + trimmed.replace(/^[-*\u2022]\s+/, '') + '</li>');
      continue;
    }

    // Numbered lists
    if (trimmed.match(/^\d+[\.\)]\s+/)) {
      if (!inList || listType !== 'ol') {
        if (inList) result.push('</ul>');
        result.push('<ol>');
        inList = true;
        listType = 'ol';
      }
      result.push('<li>' + trimmed.replace(/^\d+[\.\)]\s+/, '') + '</li>');
      continue;
    }

    // Close list if we're no longer in one
    if (inList) {
      result.push(listType === 'ul' ? '</ul>' : '</ol>');
      inList = false;
    }

    // Regular paragraph
    result.push('<p>' + line + '</p>');
  }

  if (inList) result.push(listType === 'ul' ? '</ul>' : '</ol>');
  if (inCodeBlock) result.push('</code></pre>');

  // Clean up empty paragraphs
  return result.join('\n')
    .replace(/<p>\s*<\/p>/g, '')
    .replace(/\n{3,}/g, '\n\n');
}

// Format Markdown content (basic rendering)
function formatMarkdownContent(text) {
  // Escape HTML first
  let html = text
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;');

  // Code blocks
  html = html.replace(/```(\w*)\n([\s\S]*?)```/g, function(match, lang, code) {
    return '<pre><code>' + code.trim() + '</code></pre>';
  });

  // Inline code
  html = html.replace(/`([^`]+)`/g, '<code>$1</code>');

  // Bold
  html = html.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
  html = html.replace(/__([^_]+)__/g, '<strong>$1</strong>');

  // Italic
  html = html.replace(/(?<!\*)\*(?!\*)([^*]+)(?<!\*)\*(?!\*)/g, '<em>$1</em>');
  html = html.replace(/(?<!_)_(?!_)([^_]+)(?<!_)_(?!_)/g, '<em>$1</em>');

  // URLs
  html = html.replace(/(https?:\/\/(?:www\.)?youtube\.com\/watch\?v=[^\s)]+)/g,
    '<a href="$1" target="_blank" rel="noopener" class="youtube-embed">\u25B6 Watch on YouTube</a>');
  html = html.replace(/(https?:\/\/(?:www\.)?youtu\.be\/[^\s)]+)/g,
    '<a href="$1" target="_blank" rel="noopener" class="youtube-embed">\u25B6 Watch on YouTube</a>');

  // Markdown links [text](url)
  html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank" rel="noopener">$1</a>');

  // General URLs
  html = html.replace(/(?<!href="|">)(https?:\/\/[^\s<]+)(?!<\/a>)/g, function(url) {
    if (url.includes('youtube.com/watch') || url.includes('youtu.be/')) return url;
    return '<a href="' + url + '" target="_blank" rel="noopener">' + url + '</a>';
  });

  // Now process line by line
  const lines = html.split('\n');
  let result = [];
  let inList = false;
  let listType = 'ul';
  let inPre = false;

  for (let i = 0; i < lines.length; i++) {
    let line = lines[i];
    let trimmed = line.trim();

    // Track pre blocks
    if (trimmed.startsWith('&lt;pre&gt;') || trimmed.includes('<pre>')) {
      inPre = true;
    }
    if (inPre) {
      result.push(line);
      if (trimmed.includes('</pre>') || trimmed.includes('&lt;/pre&gt;')) inPre = false;
      continue;
    }

    if (trimmed === '') {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('');
      continue;
    }

    // Headers
    if (trimmed.startsWith('# ')) { if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; } result.push('<h1>' + trimmed.substring(2) + '</h1>'); continue; }
    if (trimmed.startsWith('## ')) { if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; } result.push('<h2>' + trimmed.substring(3) + '</h2>'); continue; }
    if (trimmed.startsWith('### ')) { if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; } result.push('<h3>' + trimmed.substring(4) + '</h3>'); continue; }
    if (trimmed.startsWith('#### ')) { if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; } result.push('<h3>' + trimmed.substring(5) + '</h3>'); continue; }

    // HR
    if (trimmed.match(/^[-*_]{3,}$/)) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('<hr>');
      continue;
    }

    // Blockquote
    if (trimmed.startsWith('&gt; ')) {
      if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
      result.push('<blockquote>' + trimmed.substring(5) + '</blockquote>');
      continue;
    }

    // Bullet
    if (trimmed.match(/^[-*]\s+/)) {
      if (!inList || listType !== 'ul') { if (inList) result.push('</ol>'); result.push('<ul>'); inList = true; listType = 'ul'; }
      result.push('<li>' + trimmed.replace(/^[-*]\s+/, '') + '</li>');
      continue;
    }

    // Numbered list
    if (trimmed.match(/^\d+[\.\)]\s+/)) {
      if (!inList || listType !== 'ol') { if (inList) result.push('</ul>'); result.push('<ol>'); inList = true; listType = 'ol'; }
      result.push('<li>' + trimmed.replace(/^\d+[\.\)]\s+/, '') + '</li>');
      continue;
    }

    if (inList) { result.push(listType === 'ul' ? '</ul>' : '</ol>'); inList = false; }
    result.push('<p>' + line + '</p>');
  }

  if (inList) result.push(listType === 'ul' ? '</ul>' : '</ol>');

  return result.join('\n')
    .replace(/<p>\s*<\/p>/g, '')
    .replace(/\n{3,}/g, '\n\n');
}

// ============================================================
// APP STATE & ROUTER
// ============================================================
const state = {
  view: 'home', // home | course | subfolder | content
  courseId: null,
  subfolderId: null,
  subSubfolderId: null,
  filePath: null,
  fileName: null,
  fileType: null
};

const history = [];

function pushState() {
  history.push(JSON.parse(JSON.stringify(state)));
}

function goBack() {
  if (history.length > 0) {
    const prev = history.pop();
    Object.assign(state, prev);
    render();
  }
}

// ============================================================
// RENDER FUNCTIONS
// ============================================================
const app = document.getElementById('app');

function render() {
  app.className = 'view-enter';
  // Force reflow for animation
  void app.offsetWidth;

  switch (state.view) {
    case 'home': renderHome(); break;
    case 'course': renderCourse(); break;
    case 'subfolder': renderSubfolder(); break;
    case 'content': renderContent(); break;
  }

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function renderHome() {
  let html = '<div class="cards-grid">';

  COURSES.forEach(course => {
    const itemCount = countCourseItems(course);
    const downloadCount = countCourseDownloads(course);
    const subCount = course.subfolders.length;

    html += `
      <div class="card" onclick="navigateToCourse('${course.id}')">
        <div class="card-icon" style="background:${course.iconBg};color:${course.iconColor}">${course.icon}</div>
        <h3>${course.title}</h3>
        <p>${course.description}</p>
        <div class="card-meta">
          <span class="badge badge-lessons">${subCount} section${subCount !== 1 ? 's' : ''}</span>
          ${downloadCount > 0 ? `<span class="badge badge-downloads">${downloadCount} download${downloadCount !== 1 ? 's' : ''}</span>` : ''}
        </div>
      </div>`;
  });

  html += '</div>';
  app.innerHTML = html;
}

function renderCourse() {
  const course = COURSES.find(c => c.id === state.courseId);
  if (!course) return;

  let html = renderBreadcrumb([
    { label: 'Home', action: 'goHome()' }
  ], course.title);

  html += '<div class="subfolder-list">';

  course.subfolders.forEach(sf => {
    const count = countItems(sf);
    const hasSubfolders = sf.subfolders && sf.subfolders.length > 0;
    const label = hasSubfolders ? `${sf.subfolders.length} topics` : `${count} file${count !== 1 ? 's' : ''}`;

    html += `
      <div class="subfolder-item" onclick="navigateToSubfolder('${course.id}', '${sf.id}')">
        <div class="subfolder-icon">${hasSubfolders ? '\u{1F4C2}' : '\u{1F4C4}'}</div>
        <div class="subfolder-info">
          <h4>${sf.title}</h4>
          <span>${label}</span>
        </div>
        <div class="subfolder-arrow">\u2192</div>
      </div>`;
  });

  html += '</div>';
  app.innerHTML = html;
}

function renderSubfolder() {
  const course = COURSES.find(c => c.id === state.courseId);
  if (!course) return;

  const subfolder = course.subfolders.find(sf => sf.id === state.subfolderId);
  if (!subfolder) return;

  // If this subfolder has sub-subfolders (nested categories like in AI Influencers)
  if (subfolder.subfolders && subfolder.subfolders.length > 0 && !state.subSubfolderId) {
    let html = renderBreadcrumb([
      { label: 'Home', action: 'goHome()' },
      { label: course.title, action: `navigateToCourse('${course.id}')` }
    ], subfolder.title);

    html += '<div class="subfolder-list">';
    subfolder.subfolders.forEach(ssf => {
      const count = countItems(ssf);
      html += `
        <div class="subfolder-item" onclick="navigateToSubSubfolder('${course.id}', '${subfolder.id}', '${ssf.id}')">
          <div class="subfolder-icon">\u{1F4C4}</div>
          <div class="subfolder-info">
            <h4>${ssf.title}</h4>
            <span>${count} file${count !== 1 ? 's' : ''}</span>
          </div>
          <div class="subfolder-arrow">\u2192</div>
        </div>`;
    });
    html += '</div>';
    app.innerHTML = html;
    return;
  }

  // If we have a sub-subfolder selected
  let targetFolder = subfolder;
  let breadcrumbs = [
    { label: 'Home', action: 'goHome()' },
    { label: course.title, action: `navigateToCourse('${course.id}')` }
  ];

  if (state.subSubfolderId && subfolder.subfolders) {
    breadcrumbs.push({ label: subfolder.title, action: `navigateToSubfolder('${course.id}', '${subfolder.id}')` });
    targetFolder = subfolder.subfolders.find(ssf => ssf.id === state.subSubfolderId);
    if (!targetFolder) return;
  }

  let html = renderBreadcrumb(breadcrumbs, targetFolder.title);
  html += '<div class="lesson-list">';

  if (targetFolder.files) {
    targetFolder.files.forEach(file => {
      const ext = file.type;
      const readable = isReadable(ext);
      const downloadable = isDownloadable(ext);
      const filePath = targetFolder.path + '/' + file.name;
      const displayName = file.name.replace(/\.\w+$/, '');

      html += `
        <div class="lesson-item ${readable ? 'clickable' : ''}" ${readable ? `onclick="navigateToContent('${encodeURIComponent(filePath)}', '${encodeURIComponent(file.name)}', '${ext}')"` : ''}>
          <div class="lesson-icon ${ext}">${getFileLabel(ext)}</div>
          <div class="lesson-info">
            <h4>${displayName}</h4>
            <span>${ext.toUpperCase()} file</span>
          </div>
          ${downloadable ? `<a href="${filePath}" download class="download-btn" onclick="event.stopPropagation();">\u2B07 Download</a>` : ''}
        </div>`;
    });
  }

  html += '</div>';
  app.innerHTML = html;
}

function renderContent() {
  const filePath = decodeURIComponent(state.filePath);
  const fileName = decodeURIComponent(state.fileName);
  const displayName = fileName.replace(/\.\w+$/, '');
  const ext = state.fileType;

  // Build breadcrumbs
  const course = COURSES.find(c => c.id === state.courseId);
  let breadcrumbs = [
    { label: 'Home', action: 'goHome()' }
  ];

  if (course) {
    breadcrumbs.push({ label: course.title, action: `navigateToCourse('${course.id}')` });

    if (state.subfolderId) {
      const sf = course.subfolders.find(s => s.id === state.subfolderId);
      if (sf) {
        if (state.subSubfolderId && sf.subfolders) {
          breadcrumbs.push({ label: sf.title, action: `navigateToSubfolder('${course.id}', '${sf.id}')` });
          const ssf = sf.subfolders.find(s => s.id === state.subSubfolderId);
          if (ssf) {
            breadcrumbs.push({ label: ssf.title, action: `navigateToSubSubfolder('${course.id}', '${sf.id}', '${ssf.id}')` });
          }
        } else {
          breadcrumbs.push({ label: sf.title, action: `navigateToSubfolder('${course.id}', '${sf.id}')` });
        }
      }
    }
  }

  let html = renderBreadcrumb(breadcrumbs, displayName);

  html += `
    <div class="content-view">
      <div class="content-header">
        <h2>${displayName}</h2>
        <span class="file-type">${ext.toUpperCase()} file</span>
        ${isDownloadable(ext) ? ` <a href="${filePath}" download class="download-btn" style="margin-left:12px;">\u2B07 Download</a>` : ''}
      </div>
      <div class="content-body" id="content-body">
        <div class="loading"><div class="loading-spinner"></div>Loading content...</div>
      </div>
    </div>`;

  app.innerHTML = html;

  // Fetch and render the file
  fetch(filePath)
    .then(response => {
      if (!response.ok) throw new Error('File not found');
      return response.text();
    })
    .then(text => {
      const contentEl = document.getElementById('content-body');
      if (ext === 'md') {
        contentEl.innerHTML = formatMarkdownContent(text);
      } else {
        contentEl.innerHTML = formatTextContent(text);
      }
    })
    .catch(err => {
      const contentEl = document.getElementById('content-body');
      contentEl.innerHTML = `
        <div class="error-msg">
          <h3>Unable to Load Content</h3>
          <p>The file could not be loaded. It may need to be served from a web server.</p>
          <p style="margin-top:8px;font-size:0.8rem;color:var(--text-dim);">Path: ${filePath}</p>
        </div>`;
    });
}

function renderBreadcrumb(items, current) {
  let html = '<div class="breadcrumb">';
  items.forEach((item, idx) => {
    html += `<button class="breadcrumb-btn" onclick="${item.action}">${idx === 0 ? '\u2190 ' : ''}${item.label}</button>`;
    html += '<span class="breadcrumb-sep">/</span>';
  });
  html += `<span class="breadcrumb-current">${current}</span>`;
  html += '</div>';
  return html;
}

// ============================================================
// NAVIGATION FUNCTIONS
// ============================================================
function goHome() {
  pushState();
  state.view = 'home';
  state.courseId = null;
  state.subfolderId = null;
  state.subSubfolderId = null;
  state.filePath = null;
  state.fileName = null;
  state.fileType = null;
  render();
}

function navigateToCourse(courseId) {
  pushState();
  state.view = 'course';
  state.courseId = courseId;
  state.subfolderId = null;
  state.subSubfolderId = null;
  state.filePath = null;
  state.fileName = null;
  state.fileType = null;
  render();
}

function navigateToSubfolder(courseId, subfolderId) {
  pushState();
  state.view = 'subfolder';
  state.courseId = courseId;
  state.subfolderId = subfolderId;
  state.subSubfolderId = null;
  state.filePath = null;
  state.fileName = null;
  state.fileType = null;
  render();
}

function navigateToSubSubfolder(courseId, subfolderId, subSubfolderId) {
  pushState();
  state.view = 'subfolder';
  state.courseId = courseId;
  state.subfolderId = subfolderId;
  state.subSubfolderId = subSubfolderId;
  state.filePath = null;
  state.fileName = null;
  state.fileType = null;
  render();
}

function navigateToContent(filePath, fileName, fileType) {
  pushState();
  state.view = 'content';
  state.filePath = filePath;
  state.fileName = fileName;
  state.fileType = fileType;
  render();
}

// Keyboard navigation
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape' || (e.key === 'Backspace' && !['INPUT', 'TEXTAREA'].includes(e.target.tagName))) {
    if (state.view !== 'home') {
      e.preventDefault();
      goBack();
    }
  }
});

// ============================================================
// INITIAL RENDER
// ============================================================
render();
</script>
</body>
</html>